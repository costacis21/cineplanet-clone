<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../static/css/seats.css">
    </head>

<div class="row">
    {% for row in rows %}
    <div class="column">
        <img id="{{row}}" src="../static/icons/{{row}}.png"/>
        {% for i in range(1, 6) %}
            <div class="seat">
                {% if row + i | string() in reserved %}
                    <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/reserved.png"/>
                {% else %}
                    <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/empty.png"/>
                {% endif %}
                <span class="seatinfo">Seat: {{row}}{{i}} Type: Standard</span>
            </div>
        {% endfor %}

        <img src="../static/icons/empty_block.png"/>
        <img src="../static/icons/empty_block.png"/>
    
        {% for i in range(6, 16) %}
            <div class="seat">
                {% if row in vip %}
                    {% if row + i | string() in reserved %}
                        <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/reserved_vip.png"/>
                    {% else %}
                        <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/empty_vip.png"/>
                    {% endif %}
                    <span class="seatinfo">Seat: {{row}}{{i}} Type: Premium</span>

                {% else %}
                    {% if row + i | string() in reserved %}
                        <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/reserved.png"/>
                    {% else %}
                        <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/empty.png"/>
                    {% endif %}                    
                    <span class="seatinfo">Seat: {{row}}{{i}} Type: Standard</span>
                {% endif %}
            </div>
        {% endfor %}

        <img src="../static/icons/empty_block.png"/>
        <img src="../static/icons/empty_block.png"/>
    
        {% for i in range(16, 21) %}
            <div class="seat">
                {% if row + i | string() in reserved %}
                    <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/reserved.png"/>
                {% else %}
                    <img id="{{row}}{{i}}" onclick="select(id)" src="../static/icons/empty.png"/>
                {% endif %}
                <span class="seatinfo">Seat: {{row}}{{i}} Type: Standard</span>
            </div>
        {% endfor %}
    </div>
    {% endfor %}
</br>
    <p id="output">Selected: </p>
    <button type="button" class="btn btn-primary">Confirm</button>
</div>

</div>
<script>
var selected = []
function select(id) {
  var Image_Id = document.getElementById(id);
  if (Image_Id.src.match("../static/icons/empty.png") || Image_Id.src.match("../static/icons/selected.png")) {
    if (Image_Id.src.match("../static/icons/empty.png")) {
      Image_Id.src = "../static/icons/selected.png";
      selected.push(id);
    }
    else {
        Image_Id.src = "../static/icons/empty.png";
        const index = selected.indexOf(id);
        if (index > -1) {
            selected.splice(index, 1);
        }
    }
  }
  else if (Image_Id.src.match("../static/icons/empty_vip.png") || Image_Id.src.match("../static/icons/selected_vip.png")) {
    if (Image_Id.src.match("../static/icons/empty_vip.png")) {
      Image_Id.src = "../static/icons/selected_vip.png";
      selected.push(id);
    }
    else {
      Image_Id.src = "../static/icons/empty_vip.png";
      const index = selected.indexOf(id);
      if (index > -1) {
            selected.splice(index, 1);
        }
    }
  }
  document.getElementById("output").innerHTML = "Selected: " + selected.join(", ");
}
</script>
</body>
</html>
